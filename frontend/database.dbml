// Generated DBML from PostgreSQL Database
// Generated at: 2025-10-19T07:05:52.741Z
// Database: SMO Web Application

Table activities {
  id text [pk, not null]
  title text [not null]
  description text [not null]
  authorId text [not null]
  projectId text
  category text [not null]
  type USER-DEFINED [not null]
  startDate timestamp [not null]
  endDate timestamp
  location text
  maxParticipants int
  currentParticipants int [not null]
  coordinator text
  status USER-DEFINED [not null]
  isPublic boolean [not null, default: true]
  requirements text
  budget double
  actualExpense double
  order int [not null]
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
  tags text
  image text
  gallery text
}

Table contact_info {
  id text [pk, not null]
  type USER-DEFINED [not null]
  label text [not null]
  value text [not null]
  icon text
  isActive boolean [not null, default: true]
  order int [not null]
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table contacts {
  id text [pk, not null]
  name text [not null]
  email text [not null]
  phone text
  subject text [not null]
  message text [not null]
  category text [not null]
  priority USER-DEFINED [not null]
  status USER-DEFINED [not null]
  userId text
  assignedTo text
  repliedBy text
  repliedAt timestamp
  reply text
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table contents {
  id text [pk, not null]
  title text [not null]
  content text [not null]
  excerpt text
  type USER-DEFINED [not null]
  status USER-DEFINED [not null]
  publishedAt timestamp
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
  tags text
  slug text [not null]
  viewCount int [not null]
}

Table documents {
  id text [pk, not null]
  title text [not null]
  description text
  category text [not null]
  type text [not null]
  fileName text [not null]
  fileUrl text [not null]
  fileSize int [not null]
  version text
  isPublic boolean [not null, default: true]
  accessLevel USER-DEFINED [not null]
  downloadCount int [not null]
  tags text
  uploadedBy text [not null]
  approvedBy text
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
  expiryDate timestamp
}

Table donation_campaigns {
  id text [pk, not null]
  title text [not null]
  description text [not null]
  purpose text
  targetAmount double [not null]
  currentAmount double [not null]
  startDate timestamp [not null]
  endDate timestamp [not null]
  status USER-DEFINED [not null]
  category text [not null]
  image text
  donorCount int [not null]
  createdBy text [not null]
  approvedBy text
  isPublic boolean [not null, default: true]
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table donations {
  id text [pk, not null]
  campaignId text [not null]
  donorId text
  donorName text [not null]
  donorEmail text
  donorPhone text
  amount double [not null]
  message text
  isAnonymous boolean [not null, default: false]
  paymentMethod text
  transactionId text
  receiptUrl text
  status USER-DEFINED [not null]
  verifiedBy text
  verifiedAt timestamp
  createdAt timestamp [not null]
}

Table form_submissions {
  id text [pk, not null]
  formId text [not null]
  userId text
  data text [not null]
  status USER-DEFINED [not null]
  ipAddress text
  reviewedBy text
  reviewedAt timestamp
  remarks text
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table forms {
  id text [pk, not null]
  title text [not null]
  description text
  type USER-DEFINED [not null]
  status USER-DEFINED [not null]
  fields text [not null]
  settings text
  openDate timestamp
  closeDate timestamp
  maxSubmissions int
  currentSubmissions int [not null]
  createdBy text [not null]
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table gallery {
  id text [pk, not null]
  title text [not null]
  description text
  category text [not null]
  albumType USER-DEFINED [not null]
  images text [not null]
  coverImage text
  eventDate timestamp [not null]
  uploadedBy text [not null]
  viewCount int [not null]
  isPublic boolean [not null, default: true]
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table members {
  id text [pk, not null]
  userId text [not null]
  studentId text [not null]
  phone text
  year int [not null]
  department text [not null]
  faculty text [not null]
  position text
  division text
  joinDate timestamp [not null]
  isActive boolean [not null, default: true]
  bio text
  skills text
  interests text
  avatar text
  address text
  emergencyContact text
  emergencyPhone text
}

Table news {
  id text [pk, not null]
  title text [not null]
  content text [not null]
  excerpt text
  authorId text [not null]
  category text [not null]
  priority USER-DEFINED [not null]
  isPinned boolean [not null, default: false]
  status USER-DEFINED [not null]
  publishedAt timestamp
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
  tags text
  slug text [not null]
  viewCount int [not null]
  image text
  attachments text
}

Table positions {
  id text [pk, not null]
  title text [not null]
  description text
  type USER-DEFINED [not null]
  level int [not null]
  division text
  responsibilities text
  isActive boolean [not null, default: true]
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table project_reports {
  id text [pk, not null]
  projectId text [not null]
  title text [not null]
  content text [not null]
  reportType USER-DEFINED [not null]
  reportDate timestamp [not null]
  submittedBy text [not null]
  reviewedBy text
  approvedBy text
  status USER-DEFINED [not null]
  attachments text
  remarks text
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table projects {
  id text [pk, not null]
  code text [not null]
  title text [not null]
  description text [not null]
  shortDescription text
  authorId text [not null]
  academicYear int [not null]
  semester int
  status USER-DEFINED [not null]
  priority USER-DEFINED [not null]
  startDate timestamp [not null]
  endDate timestamp [not null]
  totalBudget double
  approvedBudget double
  usedBudget double [not null]
  objectives text
  targetGroup text
  expectedResults text
  keyPerformance text
  sponsor text
  coordinator text
  approvedBy text
  approvedDate timestamp
  isActive boolean [not null, default: true]
  image text
  planFile text
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
}

Table staff {
  id text [pk, not null]
  userId text [not null]
  staffId text [not null]
  department text [not null]
  position text [not null]
  phone text
  office text
  bio text
  expertise text
  avatar text
  isActive boolean [not null, default: true]
  startDate timestamp [not null]
}

Table users {
  id text [pk, not null]
  email text [not null]
  username text [not null]
  password text [not null]
  firstName text [not null]
  lastName text [not null]
  role USER-DEFINED [not null]
  isActive boolean [not null, default: true]
  lastLoginAt timestamp
  createdAt timestamp [not null]
  updatedAt timestamp [not null]
  resetToken text
  resetTokenExpiry timestamp
}

// Relationships
Ref: members.userId > users.id
Ref: staff.userId > users.id
Ref: news.authorId > users.id
Ref: activities.authorId > users.id
Ref: activities.projectId > projects.id
Ref: projects.authorId > users.id
Ref: project_reports.projectId > projects.id
Ref: form_submissions.formId > forms.id
Ref: form_submissions.userId > users.id
Ref: donations.campaignId > donation_campaigns.id
Ref: donations.donorId > users.id
Ref: contacts.userId > users.id
