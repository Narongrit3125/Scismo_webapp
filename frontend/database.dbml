//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table users {
  id String [pk]
  email String [unique, not null]
  username String [unique, not null]
  password String [not null]
  firstName String [not null]
  lastName String [not null]
  role Role [not null, default: 'MEMBER']
  isActive Boolean [not null, default: true]
  lastLoginAt DateTime
  resetToken String
  resetTokenExpiry DateTime
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  memberProfile members
  authoredNews news [not null]
  authoredActivities activities [not null]
  authoredProjects projects [not null]
  contactMessages contacts [not null]
}

Table members {
  id String [pk]
  userId String [unique, not null]
  studentId String [unique, not null]
  phone String
  year Int [not null]
  department String [not null]
  faculty String [not null]
  position String
  division String
  joinDate DateTime [default: `now()`, not null]
  isActive Boolean [not null, default: true]
  avatar String
  user users [not null]
}

Table categories {
  id String [pk]
  name String [not null]
  slug String [unique, not null]
  type CategoryType [not null]
  description String
  color String
  icon String
  order Int [not null, default: 0]
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  news news [not null]
  activities activities [not null]
  documents documents [not null]

  indexes {
    (type, slug) [unique]
  }
}

Table tags {
  id String [pk]
  name String [unique, not null]
  slug String [unique, not null]
  color String
  usageCount Int [not null, default: 0]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  news news_tags [not null]
  activities activity_tags [not null]
  documents document_tags [not null]
}

Table news {
  id String [pk]
  title String [not null]
  content String [not null]
  excerpt String
  authorId String [not null]
  categoryId String [not null, default: 'default']
  priority Priority [not null, default: 'MEDIUM']
  isPinned Boolean [not null, default: false]
  status NewsStatus [not null, default: 'DRAFT']
  publishedAt DateTime
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  slug String [unique, not null]
  viewCount Int [not null, default: 0]
  image String
  attachments String
  author users [not null]
  category categories
  tags news_tags [not null]
}

Table news_tags {
  newsId String [not null]
  tagId String [not null]
  createdAt DateTime [default: `now()`, not null]
  news news [not null]
  tag tags [not null]

  indexes {
    (newsId, tagId) [pk]
  }
}

Table activities {
  id String [pk]
  title String [not null]
  description String [not null]
  authorId String [not null]
  projectId String
  categoryId String [not null, default: 'default']
  type ActivityType [not null]
  startDate DateTime [not null]
  endDate DateTime
  location String
  status ActivityStatus [not null, default: 'PLANNING']
  isPublic Boolean [not null, default: true]
  image String
  gallery String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  author users [not null]
  project projects
  category categories
  tags activity_tags [not null]
}

Table activity_tags {
  activityId String [not null]
  tagId String [not null]
  createdAt DateTime [default: `now()`, not null]
  activity activities [not null]
  tag tags [not null]

  indexes {
    (activityId, tagId) [pk]
  }
}

Table projects {
  id String [pk]
  code String [unique, not null]
  title String [not null]
  description String [not null]
  authorId String [not null]
  academicYear Int [not null]
  semester Int
  status ProjectStatus [not null, default: 'PLANNING']
  startDate DateTime [not null]
  endDate DateTime [not null]
  budget Float
  isActive Boolean [not null, default: true]
  image String
  planFile String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  author users [not null]
  activities activities [not null]
}

Table documents {
  id String [pk]
  title String [not null]
  description String
  categoryId String [not null, default: 'default']
  type String [not null]
  fileName String [not null]
  fileUrl String [not null]
  fileSize Int [not null]
  version String
  isPublic Boolean [not null, default: true]
  accessLevel AccessLevel [not null, default: 'PUBLIC']
  downloadCount Int [not null, default: 0]
  uploadedBy String [not null]
  approvedBy String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  expiryDate DateTime
  category categories
  tags document_tags [not null]
}

Table document_tags {
  documentId String [not null]
  tagId String [not null]
  createdAt DateTime [default: `now()`, not null]
  document documents [not null]
  tag tags [not null]

  indexes {
    (documentId, tagId) [pk]
  }
}

Table contacts {
  id String [pk]
  name String [not null]
  email String [not null]
  phone String
  subject String [not null]
  message String [not null]
  category String [not null, default: 'general']
  priority Priority [not null, default: 'MEDIUM']
  status ContactStatus [not null, default: 'PENDING']
  userId String
  assignedTo String
  repliedBy String
  repliedAt DateTime
  reply String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  user users
}

Enum Role {
  ADMIN
  MEMBER
}

Enum CategoryType {
  NEWS
  ACTIVITY
  DOCUMENT
  GENERAL
}

Enum Priority {
  LOW
  MEDIUM
  HIGH
  URGENT
}

Enum NewsStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

Enum ActivityType {
  WORKSHOP
  SEMINAR
  COMPETITION
  VOLUNTEER
  SOCIAL
  TRAINING
  MEETING
  CEREMONY
  FUNDRAISING
  EXHIBITION
  ACADEMIC
  SPORT
  ART_CULTURE
}

Enum ActivityStatus {
  PLANNING
  OPEN_REGISTRATION
  FULL
  IN_PROGRESS
  COMPLETED
  CANCELLED
  POSTPONED
}

Enum ProjectStatus {
  PLANNING
  PENDING_APPROVAL
  APPROVED
  IN_PROGRESS
  COMPLETED
  ON_HOLD
  CANCELLED
  CLOSED
}

Enum AccessLevel {
  PUBLIC
  MEMBER_ONLY
  ADMIN_ONLY
  RESTRICTED
}

Enum ContactStatus {
  PENDING
  IN_PROGRESS
  REPLIED
  CLOSED
}

Ref: members.userId - users.id [delete: Cascade]

Ref: news.authorId > users.id

Ref: news.categoryId > categories.id

Ref: news_tags.newsId > news.id [delete: Cascade]

Ref: news_tags.tagId > tags.id [delete: Cascade]

Ref: activities.authorId > users.id

Ref: activities.projectId > projects.id

Ref: activities.categoryId > categories.id

Ref: activity_tags.activityId > activities.id [delete: Cascade]

Ref: activity_tags.tagId > tags.id [delete: Cascade]

Ref: projects.authorId > users.id

Ref: documents.categoryId > categories.id

Ref: document_tags.documentId > documents.id [delete: Cascade]

Ref: document_tags.tagId > tags.id [delete: Cascade]

Ref: contacts.userId > users.id