# üì∏ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö Upload ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û - Vercel Blob Storage

## ‚ö†Ô∏è ‡∏ó‡∏≥‡πÑ‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Deploy?

### üî¥ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°:
Vercel ‡πÄ‡∏õ‡πá‡∏ô **Serverless Platform** ‡∏ã‡∏∂‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤:
- ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà upload ‡πÑ‡∏õ‡∏¢‡∏±‡∏á `public/uploads/` ‡∏à‡∏∞**‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏ó‡∏¥‡πâ‡∏á**‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ deploy ‡πÉ‡∏´‡∏°‡πà
- ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏≤‡∏ß‡∏£ (ephemeral filesystem)
- ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà

### ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
‡πÉ‡∏ä‡πâ **Vercel Blob Storage** - Cloud Storage ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏≤‡∏ß‡∏£

---

## üéØ ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà: Vercel Blob Storage

### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:
- ‚úÖ **‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏≤‡∏ß‡∏£** - ‡∏£‡∏π‡∏õ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡πÅ‡∏°‡πâ redeploy ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- ‚úÖ **CDN Global** - ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å
- ‚úÖ **Scalable** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å
- ‚úÖ **‡∏ü‡∏£‡∏µ 500 GB bandwidth/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô**
- ‚úÖ **‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢** - API ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢ file system

---

## üîß ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Blob Store ‡∏ö‡∏ô Vercel:

1. ‡πÄ‡∏Ç‡πâ‡∏≤ https://vercel.com/dashboard
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå **scismo-webapp-7zno**
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Storage**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create Database** ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Blob**
5. ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠: `smo-images`
6. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å region ‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
7. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create**

### 2. Connect ‡∏Å‡∏±‡∏ö Project:

Vercel ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° Environment Variable ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:
```
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_XXXXXXXXXX
```

**‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!** ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°

---

## üì° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API

### Upload ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û

**Endpoint:** `POST /api/upload/image`

**Parameters:**
- `file` - ‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (File object)
- `type` - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: `news`, `activities`, `gallery`

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:**
```typescript
const handleImageUpload = async (file: File) => {
  const formData = new FormData();
  formData.append('file', file);
  formData.append('type', 'news'); // ‡∏´‡∏£‡∏∑‡∏≠ 'activities', 'gallery'

  const response = await fetch('/api/upload/image', {
    method: 'POST',
    body: formData,
  });

  const data = await response.json();
  
  if (data.success) {
    console.log('URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û:', data.url);
    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å data.url ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  }
}
```

**Response (‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à):**
```json
{
  "success": true,
  "filePath": "https://xxxxx.public.blob.vercel-storage.com/news/image_1697xxx.jpg",
  "fileName": "news/image_1697xxx.jpg",
  "size": 123456,
  "type": "image/jpeg",
  "url": "https://xxxxx.public.blob.vercel-storage.com/news/image_1697xxx.jpg"
}
```

**Response (‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î):**
```json
{
  "success": false,
  "error": "File size exceeds 5MB limit"
}
```

---

## üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

‡πÉ‡∏ä‡πâ `url` ‡∏à‡∏≤‡∏Å response:

```typescript
// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ
await prisma.news.create({
  data: {
    title: "‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà",
    content: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß...",
    image: data.url, // <-- URL ‡∏à‡∏≤‡∏Å Vercel Blob
    category: "academic",
    slug: "news-slug",
    authorId: userId,
  }
});

// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ
await prisma.activity.create({
  data: {
    title: "‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà",
    description: "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î...",
    image: data.url, // <-- URL ‡∏à‡∏≤‡∏Å Vercel Blob
    startDate: new Date(),
    authorId: userId,
  }
});
```

---

## üé® ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡πÉ‡∏ô Frontend

```tsx
// HTML img tag
<img 
  src={news.image} 
  alt={news.title}
  className="w-full h-48 object-cover"
/>

// Next.js Image component (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
import Image from 'next/image'

<Image 
  src={news.image}
  alt={news.title}
  width={800}
  height={400}
  className="object-cover"
/>
```

---

## üìã ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏é

### ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
- ‚úÖ `image/jpeg` (.jpg, .jpeg)
- ‚úÖ `image/png` (.png)
- ‚úÖ `image/gif` (.gif)
- ‚úÖ `image/webp` (.webp)

### ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå:
- **‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 MB** ‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå:
- ‡∏•‡∏ö‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏≠‡∏≠‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡πÄ‡∏û‡∏¥‡πà‡∏° timestamp ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ã‡πâ‡∏≥
- ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó

---

## üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á

### Admin Form ‡∏û‡∏£‡πâ‡∏≠‡∏° Image Upload:

```typescript
'use client'

import { useState } from 'react'

export default function NewsForm() {
  const [imageUrl, setImageUrl] = useState('')
  const [uploading, setUploading] = useState(false)
  const [preview, setPreview] = useState('')

  const handleImageChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0]
    if (!file) return

    // Show preview
    setPreview(URL.createObjectURL(file))
    setUploading(true)
    
    const formData = new FormData()
    formData.append('file', file)
    formData.append('type', 'news')

    try {
      const response = await fetch('/api/upload/image', {
        method: 'POST',
        body: formData,
      })

      const data = await response.json()
      
      if (data.success) {
        setImageUrl(data.url)
        alert('‚úÖ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!')
      } else {
        alert('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + data.error)
        setPreview('')
      }
    } catch (error) {
      alert('‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ')
      setPreview('')
    } finally {
      setUploading(false)
    }
  }

  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault()
    
    const formData = new FormData(e.currentTarget)
    
    const response = await fetch('/api/news', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        title: formData.get('title'),
        content: formData.get('content'),
        image: imageUrl, // <-- Vercel Blob URL
        category: formData.get('category'),
      }),
    })

    if (response.ok) {
      alert('‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!')
    }
  }

  return (
    <form onSubmit={handleSubmit} className="space-y-4">
      <div>
        <label className="block mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡πà‡∏≤‡∏ß</label>
        <input 
          type="text" 
          name="title"
          required
          className="w-full border p-2 rounded"
        />
      </div>

      <div>
        <label className="block mb-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏Å</label>
        <input
          type="file"
          accept="image/*"
          onChange={handleImageChange}
          disabled={uploading}
          className="w-full border p-2 rounded"
        />
        
        {uploading && (
          <p className="text-blue-600 mt-2">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î...</p>
        )}
        
        {preview && (
          <img 
            src={preview} 
            alt="Preview" 
            className="mt-4 w-full h-48 object-cover rounded"
          />
        )}
      </div>

      <div>
        <label className="block mb-2">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</label>
        <textarea 
          name="content"
          rows={5}
          required
          className="w-full border p-2 rounded"
        />
      </div>

      <button 
        type="submit"
        disabled={!imageUrl}
        className="bg-blue-600 text-white px-6 py-2 rounded disabled:bg-gray-400"
      >
        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πà‡∏≤‡∏ß
      </button>
    </form>
  )
}
```

---

## üìä Storage Limits (Free Tier)

- ‚úÖ **500 GB bandwidth** ‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- ‚úÖ **Unlimited storage** ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î
- ‚úÖ **‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ** ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ö‡∏±‡∏ï‡∏£

---

## üîê Security Features

- ‚úÖ Validate ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå
- ‚úÖ Validate ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå
- ‚úÖ Sanitize ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå
- ‚úÖ Public CDN access
- ‚úÖ HTTPS ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

---

## üö® Troubleshooting

### ‡∏£‡∏π‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏≤‡∏¢‡∏≠‡∏¢‡∏π‡πà?
1. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á Blob Store ‡πÅ‡∏•‡πâ‡∏ß
2. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `BLOB_READ_WRITE_TOKEN` ‡πÉ‡∏ô Environment Variables
3. ‚úÖ Redeploy ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Blob

### Upload ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à?
1. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB)
2. ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û)
3. ‚úÖ ‡∏î‡∏π Console ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö error messages

### URL ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ?
- URL ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô `https://xxxxx.public.blob.vercel-storage.com/...`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å `data.url` ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ

| ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° | ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà (Vercel Blob) |
|----------|------------------------|
| ‚ùå ‡∏£‡∏π‡∏õ‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠ redeploy | ‚úÖ ‡∏£‡∏π‡∏õ‡∏ñ‡∏≤‡∏ß‡∏£ |
| ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ CDN | ‚úÖ CDN Global |
| ‚ùå ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà | ‚úÖ Unlimited storage |
| ‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏ä‡πâ‡∏≤ | ‚úÖ ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡πá‡∏ß |

---

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:** October 19, 2025  
**Version:** 2.0.0  
**Status:** ‚úÖ Production Ready
